!function(){"use strict";const e="https://www.dreamstime.com/ajax/upload-edit.php";let t={},o=null,n=!1;let maxCacheSize=100,cacheKeys=[];function c(n){if(!n||t[n])return Promise.resolve();const c=[`${e}?mediaid=${encodeURIComponent(n)}&command=getimage`,`${e}?mediaid=${encodeURIComponent(n)}&command=getform`];return Promise.all(c.map(e=>fetch(e,{cache:"force-cache",credentials:"include"}).then(e=>e.ok?e.json():null).catch(()=>null))).then(e=>{if(cacheKeys.length>=maxCacheSize){const oldestKey=cacheKeys.shift();delete t[oldestKey]}t[n]={img:e[0],form:e[1]},cacheKeys.push(n),!o&&e[1]&&e[1].categories&&(o=e[1].categories,function(e){if(!e)return;document.querySelectorAll("select.categoryList").forEach(t=>{t.options.length>1||e.forEach(e=>{if(!e.id||!e.name)return;const o=document.createElement("option");o.value=e.id,o.textContent=e.name,t.appendChild(o)})})}(o))}).catch(()=>{})}function r(){if(n)return;const e=Array.from(document.querySelectorAll("a.js-fromimage"));if(0===e.length)return;n=!0;let t=0;!function o(){if(t>=e.length)return void(n=!1);const r=e.slice(t,t+10).map(e=>c(e.id));Promise.all(r).finally(()=>{t+=10,setTimeout(o,200)})}()}function i(){r(),setInterval(r,6e3)}"complete"===document.readyState||"interactive"===document.readyState?i():window.addEventListener("load",i);let a="",l=Date.now();const s=new RegExp(["nike","converse","social media icons","adidas","red cross","money","game console controllers","rubik cube","sydney opera","jesus of rio de janeiro","olympic circles","circles","circle","olympic","olympics","porsche cars","shure microphone","Walking","shoe","Skate","shoes","sneaker","sneakers","running","mario brothers","people faces"].map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),"i");let uTimeout=null;function u(){let e=document.querySelector("span.label-ai#js-label-ai-cat"),t=document.querySelector("input#title")?.value||"",o=document.querySelector("textarea#description")?.value||"",n=(t+" "+o).trim();if(e&&"Suggested by our AI engine"===e.textContent.trim()&&n.length>0){if(s.test(n.toLowerCase())){document.querySelector("a#js-next-submit")?.click()}else{document.querySelector("a#submitbutton")?.click()}}else{if(uTimeout)clearTimeout(uTimeout);uTimeout=setTimeout(u,100)}}let eTimeout=null;!function e(){let t=document.querySelector("img.zoomImg");if(t&&t.src!==a){a=t.src,l=Date.now(),u()}if(Date.now()-l>=12e4){document.querySelector("a#submitbutton")?.click(),l=Date.now()}if(eTimeout)clearTimeout(eTimeout);eTimeout=setTimeout(e,200)}();function cleanupMemory(){t={},o=null,cacheKeys=[],window.gc&&window.gc(),console.log("Memory cleanup completed")}setInterval(cleanupMemory,3e5),setInterval(()=>{t={},o=null,cacheKeys=[]},18e5),setInterval(()=>console.clear(),3e4)}();
