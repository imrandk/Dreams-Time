!function(){'use strict';const e='https://www.dreamstime.com/ajax/upload-edit.php';let t=new Map,o=null,n=!1,c=50;function l(){if(t.size>c){const e=Array.from(t.entries()).sort(((e,o)=>e[1].timestamp-o[1].timestamp)).slice(0,10);for(const[o,n]of e)t.delete(o)}}function r(n){if(!n||t.has(n))return Promise.resolve();const r=[`${e}?mediaid=${encodeURIComponent(n)}&command=getimage`,`${e}?mediaid=${encodeURIComponent(n)}&command=getform`];return Promise.all(r.map(e=>fetch(e,{cache:'no-store',credentials:'include'}).then(e=>e.ok?e.json():null).catch(()=>null))).then(e=>{l(),t.set(n,{img:e[0],form:e[1],timestamp:Date.now()}),!o&&e[1]&&e[1].categories&&(o=e[1].categories,function(e){if(!e)return;document.querySelectorAll('select.categoryList').forEach(t=>{t.options.length>1||e.forEach(e=>{if(!e.id||!e.name)return;const o=document.createElement('option');o.value=e.id,o.textContent=e.name,t.appendChild(o)})})}(o))}).catch(()=>{})}function i(){if(n)return;const e=Array.from(document.querySelectorAll('a.js-fromimage'));if(0===e.length)return;n=!0;let t=0;!function o(){if(t>=e.length)return void(n=!1);const c=e.slice(t,t+5).map(e=>r(e.id));Promise.all(c).finally(()=>{t+=5,setTimeout(o,500)})}()}'complete'===document.readyState||'interactive'===document.readyState?u():window.addEventListener('load',u);function u(){i(),setInterval(i,1e4)}let s='',a=Date.now(),f=new RegExp(['nike','converse','social media icons','adidas','red cross','money','game console controllers','rubik cube','sydney opera','jesus of rio de janeiro','olympic circles','circles','circle','olympic','olympics','porsche cars','shure microphone','Walking','shoe','Skate','shoes','sneaker','sneakers','running','mario brothers','people faces'].map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')).join('|'),'i');function h(){let e=document.querySelector('span.label-ai#js-label-ai-cat'),t=document.querySelector('input#title')?.value||'',o=document.querySelector('textarea#description')?.value||'',n=(t+' '+o).trim();e&&'Suggested by our AI engine'===e.textContent.trim()&&n.length>0?(f.test(n.toLowerCase())?document.querySelector('a#js-next-submit')?.click():document.querySelector('a#submitbutton')?.click()):setTimeout(h,200)}!function e(){let t=document.querySelector('img.zoomImg');t&&t.src!==s&&(s=t.src,a=Date.now(),h()),Date.now()-a>=12e4&&(document.querySelector('a#submitbutton')?.click(),a=Date.now()),setTimeout(e,500)}();const p=setInterval(()=>{const e=Date.now();let o=0;for(const[n,c]of t)e-c.timestamp>3e5&&(t.delete(n),o++);t.size>30&&l()},15e3),g=setInterval(()=>{console.clear()},3e4);window.addEventListener('beforeunload',()=>{clearInterval(p),clearInterval(g),t.clear(),o=null,s=''})}();
